<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistics Minus The Math - 3&nbsp; Tools for Describing the Relationship Between Two Variables</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter4.html" rel="next">
<link href="./Chapter2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter3.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tools for Describing the Relationship Between Two Variables</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistics Minus The Math</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./graphing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Graphical Tools for Describing One Variable at a Time</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Statistics for Describing One Variable at a Time</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tools for Describing the Relationship Between Two Variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Estimation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Probability Distributions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Sampling Distributions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Hypothesis Testing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Comparing Means (How a Qualitative Variable Relates to a Quantitative Variable)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Comparing Groups (How Two Qualitative Variables Relate to One Another)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Causality</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Models and Uncertainty</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Regression with Qualitative Independent Variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Regression with Qualitative Dependent Variables</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction-to-bivariate-data1" id="toc-introduction-to-bivariate-data1" class="nav-link active" data-scroll-target="#introduction-to-bivariate-data1"><span class="header-section-number">3.1</span> Introduction to Bivariate Data[1]</a></li>
  <li><a href="#what-is-correlation3" id="toc-what-is-correlation3" class="nav-link" data-scroll-target="#what-is-correlation3"><span class="header-section-number">3.2</span> What is Correlation?[3]</a></li>
  <li><a href="#how-correlation-is-calculated4" id="toc-how-correlation-is-calculated4" class="nav-link" data-scroll-target="#how-correlation-is-calculated4"><span class="header-section-number">3.3</span> How Correlation is Calculated[4]</a></li>
  <li><a href="#introduction-to-linear-regression5" id="toc-introduction-to-linear-regression5" class="nav-link" data-scroll-target="#introduction-to-linear-regression5"><span class="header-section-number">3.4</span> Introduction to Linear Regression[5]</a>
  <ul class="collapse">
  <li><a href="#a-real-example" id="toc-a-real-example" class="nav-link" data-scroll-target="#a-real-example"><span class="header-section-number">3.4.1</span> A Real Example</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tools for Describing the Relationship Between Two Variables</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction-to-bivariate-data1" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="introduction-to-bivariate-data1"><span class="header-section-number">3.1</span> Introduction to Bivariate Data<a href="#_ftn1">[1]</a></h2>
<p>Measures of central tendency, variability, and spread summarize a single variable by providing important information about its distribution. Often, more than one variable is collected on each individual. For example, in large health studies of populations it is common to obtain variables such as age, sex, height, weight, blood pressure, and total cholesterol on each individual. Economic studies may be interested in, among other things, personal income and years of education. As a third example, most university admissions committees ask for an applicant’s high school grade point average and standardized admission test scores (e.g., SAT). In this chapter we consider bivariate data, which for now consists of two quantitative variables for each individual. Our first interest is in summarizing such data in a way that is analogous to summarizing univariate (single variable) data.</p>
<p>By way of illustration, let’s consider something with which we are all familiar: age. Let’s begin by asking if people tend to marry other people of about the same age. Our experience tells us “yes,” but how good is the correspondence? One way to address the question is to look at pairs of ages for a sample of married couples. <a href="#tbl-spousalage" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-spousalage</span></a> below shows the ages of 10 married couples. Going across the columns we see that, yes, husbands and wives tend to be of about the same age, with men having a tendency to be slightly older than their wives. This is no big surprise, but at least the data bear out our experiences, which is not always the case.</p>
<div id="tbl-spousalage" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-spousalage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.1: Sample of spousal ages of 10 White American Couples.
</figcaption>
<div aria-describedby="tbl-spousalage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Husband</strong></td>
<td>36</td>
<td>72</td>
<td>37</td>
<td>36</td>
<td>51</td>
<td>50</td>
<td>47</td>
<td>50</td>
<td>37</td>
<td>41</td>
</tr>
<tr class="even">
<td><strong>Wife</strong></td>
<td>35</td>
<td>67</td>
<td>33</td>
<td>35</td>
<td>50</td>
<td>46</td>
<td>47</td>
<td>42</td>
<td>36</td>
<td>41</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>The pairs of ages in <a href="#tbl-spousalage" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-spousalage</span></a> are from a dataset consisting of 282 pairs of spousal ages, too many to make sense of from a table. What we need is a way to summarize the 282 pairs of ages. We know that each variable can be summarized by a histogram (see <a href="#fig-histspousalage" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-histspousalage</span></a>) and by a mean and standard deviation (See <a href="#tbl-spousalagemeansd" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-spousalagemeansd</span></a>).</p>
<div id="fig-histspousalage" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-histspousalage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/histspousalage.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-histspousalage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.1: Histograms of spousal ages.
</figcaption>
</figure>
</div>
<div id="tbl-spousalagemeansd" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-spousalagemeansd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.2: Means and standard deviations of spousal ages.
</figcaption>
<div aria-describedby="tbl-spousalagemeansd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 11%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 18%">
<col style="width: 11%">
</colgroup>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td><strong>Mean</strong></td>
<td></td>
<td><strong>Standard<br>
Deviation</strong></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>Husbands</td>
<td></td>
<td>49</td>
<td></td>
<td>11</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>Wives</td>
<td></td>
<td>47</td>
<td></td>
<td>11</td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Each distribution is fairly skewed with a long right tail. From <a href="#tbl-spousalage" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-spousalage</span></a> we see that not all husbands are older than their wives and it is important to see that this fact is lost when we separate the variables. That is, even though we provide summary statistics on each variable, the pairing within couple is lost by separating the variables. We cannot say, for example, based on the means alone what percentage of couples has younger husbands than wives. We have to count across pairs to find this out. Only by maintaining the pairing can meaningful answers be found about couples per se. Another example of information not available from the separate descriptions of husbands and wives’ ages is the mean age of husbands with wives of a certain age. For instance, what is the average age of husbands with 45-year-old wives? Finally, we do not know the relationship between the husband’s age and the wife’s age.</p>
<p>We can learn much more by displaying the bivariate data in a graphical form that maintains the pairing. <a href="#fig-scatterplotspousalage" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-scatterplotspousalage</span></a> shows a scatter plot of the paired ages. The x-axis represents the age of the husband and the y-axis the age of the wife.</p>
<div id="fig-scatterplotspousalage" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplotspousalage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/scatterplotspousalage.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplotspousalage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.2: Scatter plot showing wife’s age as a function of husband’s age.
</figcaption>
</figure>
</div>
<p>There are two important characteristics of the data revealed by <a href="#fig-scatterplotspousalage" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-scatterplotspousalage</span></a>. First, it is clear that there is a strong relationship between the husband’s age and the wife’s age: the older the husband, the older the wife. When one variable (Y) increases with the second variable (X), we say that X and Y have a <strong>positive association</strong>. Conversely, when Y decreases as X increases, we say that they have a <strong>negative association</strong>.</p>
<p>Second, the points cluster along a straight line. When this occurs, the relationship is called a <strong>linear relationship</strong>.</p>
<p><a href="#fig-scatterplotstrength" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-scatterplotstrength</span></a> shows a scatter plot of Arm Strength and Grip Strength from 149 individuals working in physically demanding jobs including electricians, construction and maintenance workers, and auto mechanics. Not surprisingly, the stronger someone’s grip, the stronger their arm tends to be. There is therefore a positive association between these variables. Although the points cluster along a line, they are not clustered quite as closely as they are for the scatter plot of spousal age.</p>
<div id="fig-scatterplotstrength" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplotstrength-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/scatterplotstrength.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplotstrength-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.3: Scatter plot of Grip Strength and Arm Strength.
</figcaption>
</figure>
</div>
<p>Not all scatter plots show linear relationships. <a href="#fig-scatterplotgalileo" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-scatterplotgalileo</span></a> shows the results of an experiment conducted by Galileo on projectile motion.<a href="#_ftn2">[2]</a> In the experiment, Galileo rolled balls down an incline and measured how far they traveled as a function of the release height. It is clear from <a href="#fig-scatterplotgalileo" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-scatterplotgalileo</span></a> that the relationship between “Release Height” and “Distance Traveled” is not described well by a straight line: If you drew a line connecting the lowest point and the highest point, all of the remaining points would be above the line. The data are better fit by a parabola.</p>
<div id="fig-scatterplotgalileo" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplotgalileo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/scatterplotgalileo.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplotgalileo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.4: Galileo’s data showing a non-linear relationship.
</figcaption>
</figure>
</div>
<p>Scatter plots that show linear relationships between variables can differ in several ways including the slope of the line about which they cluster and how tightly the points cluster about the line. We now turn our attention to a statistical measure of the strength of the relationship between two quantitative variables.</p>
</section>
<section id="what-is-correlation3" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="what-is-correlation3"><span class="header-section-number">3.2</span> What is Correlation?<a href="#_ftn3">[3]</a></h2>
<p>The Pearson product-moment correlation coefficient is a measure of the strength of the linear relationship between two variables. It is referred to as Pearson’s correlation or simply as the <strong>correlation coefficient</strong>. If the relationship between the variables is not linear, then the correlation coefficient does not adequately represent the strength of the relationship between the variables.</p>
<p>The symbol for Pearson’s correlation is “ρ” when it is measured in the population and “r” when it is measured in a sample. Because we will be dealing almost exclusively with samples, we will use r to represent Pearson’s correlation unless otherwise noted.</p>
<p>Pearson’s r can range from -1 to 1. An r of -1 indicates a perfect negative linear relationship between variables, an r of 0 indicates no linear relationship between variables, and an r of 1 indicates a perfect positive linear relationship between variables. <a href="#fig-poslinearrel" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-poslinearrel</span></a> shows a scatter plot for which r = 1.</p>
<div id="fig-poslinearrel" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-poslinearrel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/poslinearrel.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-poslinearrel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.5: A perfect positive linear relationship, r = 1.
</figcaption>
</figure>
</div>
<div id="fig-neglinearrel" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-neglinearrel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/neglinearrel.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-neglinearrel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.6: A perfect negative linear relationship, r = 1.
</figcaption>
</figure>
</div>
<div id="fig-scatterplotnorel" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplotnorel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/scatterplotnorel.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplotnorel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.7: A scatter plot for which r = 0. Notice that there is no relationship between X and Y.
</figcaption>
</figure>
</div>
<p>With real data, you would not expect to get values of r of exactly -1, 0, or 1. The data for spousal ages shown in <a href="#fig-scatterplotspousalageposrel" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-scatterplotspousalageposrel</span></a> and described in the introductory section has an r of 0.97.</p>
<div id="fig-scatterplotspousalageposrel" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplotspousalageposrel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/scatterplotspousalageposrel.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplotspousalageposrel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.8: Scatter plot of spousal ages
</figcaption>
</figure>
</div>
<div id="fig-scatterplotstrengthposrel" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplotstrengthposrel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/splotstrengthposrel.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplotstrengthposrel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.9: Scatter plot of Grip Strength and Arm Strength, r = 0.63.
</figcaption>
</figure>
</div>
<p>The relationship between grip strength and arm strength depicted in <a href="#fig-scatterplotstrengthposrel" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-scatterplotstrengthposrel</span></a> (also described in the introductory section) is 0.63.</p>
</section>
<section id="how-correlation-is-calculated4" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="how-correlation-is-calculated4"><span class="header-section-number">3.3</span> How Correlation is Calculated<a href="#_ftn4">[4]</a></h2>
<p>There are several formulas that can be used to compute Pearson’s correlation. Some formulas make more conceptual sense whereas others are easier to actually compute. We are going to begin with a formula that makes more conceptual sense.</p>
<p>We are going to compute the correlation between the variables X and Y shown in <a href="#tbl-rcalulation" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-rcalulation</span></a>. We begin by computing the mean for X and subtracting this mean from all values of X. The new variable is called “x.” The variable “y” is computed similarly. The variables x and y are said to be deviation scores because each score is a deviation from the mean. Notice that the means of x and y are both 0. Next we create a new column by multiplying x and y.</p>
<p>Before proceeding with the calculations, let’s consider why the sum of the xy column reveals the relationship between X and Y. If there were no relationship between X and Y, then positive values of x would be just as likely to be paired with negative values of y as with positive values. This would make negative values of xy as likely as positive values and the sum would be small. On the other hand, consider <a href="#tbl-rcalulation" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-rcalulation</span></a> in which high values of X are associated with high values of Y and low values of X are associated with low values of Y. You can see that positive values of x are associated with positive values of y and negative values of x are associated with negative values of y. In all cases, the product of x and y is positive, resulting in a high total for the xy column. Finally, if there were a negative relationship then positive values of x would be associated with negative values of y and negative values of x would be associated with positive values of y. This would lead to negative values for xy.</p>
<div id="tbl-rcalulation" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-rcalulation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.3: Calculation of r.
</figcaption>
<div aria-describedby="tbl-rcalulation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<tbody>
<tr class="odd">
<td></td>
<td><strong>X</strong></td>
<td><strong>Y</strong></td>
<td><strong>x</strong></td>
<td><strong>y</strong></td>
<td><strong>xy</strong></td>
<td><strong>x<sup>2</sup></strong></td>
<td><strong>y<sup>2</sup></strong></td>
</tr>
<tr class="even">
<td></td>
<td>&nbsp;1</td>
<td>&nbsp;4</td>
<td>-3</td>
<td>-5</td>
<td>15</td>
<td>&nbsp;9</td>
<td>25</td>
</tr>
<tr class="odd">
<td></td>
<td>&nbsp;3</td>
<td>&nbsp;6</td>
<td>-1</td>
<td>-3</td>
<td>&nbsp;3</td>
<td>&nbsp;1</td>
<td>&nbsp;9</td>
</tr>
<tr class="even">
<td></td>
<td>&nbsp;5</td>
<td>10</td>
<td>&nbsp;1</td>
<td>&nbsp;1</td>
<td>&nbsp;1</td>
<td>&nbsp;1</td>
<td>&nbsp;1</td>
</tr>
<tr class="odd">
<td></td>
<td>&nbsp;5</td>
<td>12</td>
<td>&nbsp;1</td>
<td>&nbsp;3</td>
<td>&nbsp;3</td>
<td>&nbsp;1</td>
<td>&nbsp;9</td>
</tr>
<tr class="even">
<td></td>
<td>&nbsp;6</td>
<td>13</td>
<td>&nbsp;2</td>
<td>&nbsp;4</td>
<td>&nbsp;8</td>
<td>&nbsp;4</td>
<td>16</td>
</tr>
<tr class="odd">
<td>Total</td>
<td>20</td>
<td>45</td>
<td>&nbsp;0</td>
<td>&nbsp;0</td>
<td>30</td>
<td>16</td>
<td>60</td>
</tr>
<tr class="even">
<td>Mean</td>
<td>&nbsp;4</td>
<td>&nbsp;9</td>
<td>&nbsp;0</td>
<td>&nbsp;0</td>
<td>&nbsp;6</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Pearson’s r is designed so that the correlation between height and weight is the same whether height is measured in inches or in feet. To achieve this property, Pearson’s correlation is computed by dividing the sum of the xy column (<span class="math inline">\(Σ_{xy}\)</span>) by the square root of the product of the sum of the x<sup>2</sup> column (<span class="math inline">\(Σx^2\)</span>) and the sum of the <span class="math inline">\(y^2\)</span> column (<span class="math inline">\(Σy^2\)</span>). The resulting formula is:</p>
<p><span class="math display">\[
Z = \frac{ΣXY}{\sqrtΣX^2ΣY^2}\
\]</span></p>
<p>and therefore:</p>
<p><span class="math display">\[
Z = \frac{30}{\sqrt(16)(16)} = \frac{30}{\sqrt960} = \frac{30}{30.984} = 0.968\
\]</span></p>
<p>An alternative computational formula that avoids the step of computing deviation scores is:</p>
<p><span class="math display">\[
r = \frac{ΣXY-\frac{ΣXΣY}{N}}{\sqrt(ΣX^2-\frac{(ΣX)^2}{N})\sqrt(ΣY^2-\frac{(ΣY)^2}{N})}
\]</span></p>
</section>
<section id="introduction-to-linear-regression5" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="introduction-to-linear-regression5"><span class="header-section-number">3.4</span> Introduction to Linear Regression<a href="#_ftn5">[5]</a></h2>
<p>In simple linear regression, we predict scores on one variable from the scores on a second variable. The variable we are predicting is called the <strong>dependent variable</strong> and is referred to as Y. The variable we are basing our predictions on is called the <strong>independent variable</strong> and is referred to as X. When there is only one predictor variable, the prediction method is called simple regression. In simple linear regression, the topic of this section, the predictions of Y when plotted as a function of X form a straight line.</p>
<p>The example data in <a href="#tbl-exampledata" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-exampledata</span></a> are plotted in <a href="#fig-splotexampledata" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-splotexampledata</span></a>. You can see that there is a positive relationship between X and Y. If you were going to predict Y from X, the higher the value of X, the higher your prediction of Y.</p>
<div id="tbl-exampledata" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-exampledata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.4: Example data.
</figcaption>
<div aria-describedby="tbl-exampledata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 8%">
</colgroup>
<tbody>
<tr class="odd">
<td></td>
<td><strong>X</strong></td>
<td></td>
<td><strong>Y</strong></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>1.00</td>
<td></td>
<td>1.00</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>2.00</td>
<td></td>
<td>2.00</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>3.00</td>
<td></td>
<td>1.30</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>4.00</td>
<td></td>
<td>3.75</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>5.00</td>
<td></td>
<td>2.25</td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div id="fig-splotexampledata" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-splotexampledata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/splotexampledata.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-splotexampledata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.10: A scatter plot of the example data.
</figcaption>
</figure>
</div>
<p>Linear regression consists of finding the best-fitting straight line through the points. The best-fitting line is called a regression line. The black diagonal line in <a href="#fig-splotexampledatadetail" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-splotexampledatadetail</span></a> is the regression line and consists of the predicted score on Y for each possible value of X. The vertical lines from the points to the regression line represent the errors of prediction. As you can see, the red point is very near the regression line; its error of prediction is small. By contrast, the yellow point is much higher than the regression line and therefore its error of prediction is large.</p>
<div id="fig-splotexampledatadetail" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-splotexampledatadetail-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/splotexampledatadetail.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-splotexampledatadetail-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.11: A scatter plot of the example data. The black line consists of the predictions, the points are the actual data, and the vertical lines between the points and the black line represent errors of prediction.
</figcaption>
</figure>
</div>
<p>The error of prediction for a point is the value of the point minus the predicted value (the value on the line). <a href="#tbl-exampledatatable" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-exampledatatable</span></a> shows the predicted values (Y’) and the errors of prediction (Y-Y’). For example, the first point has a Y of 1.00 and a predicted Y (called Y’) of 1.21. Therefore, its error of prediction is -0.21.</p>
<div id="tbl-exampledatatable" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-exampledatatable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3.5: Example data.
</figcaption>
<div aria-describedby="tbl-exampledatatable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 20%">
<col style="width: 12%">
</colgroup>
<tbody>
<tr class="odd">
<td></td>
<td><strong>X</strong></td>
<td><strong>Y</strong></td>
<td><strong>Y</strong></td>
<td><strong>Y-Y</strong></td>
<td><strong>(Y-Y)<sup>2</sup></strong></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>1.00</td>
<td>1.00</td>
<td>1.210</td>
<td>-0.210</td>
<td>0.044</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>2.00</td>
<td>2.00</td>
<td>1.635</td>
<td>0.365</td>
<td>0.133</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>3.00</td>
<td>1.30</td>
<td>2.060</td>
<td>-0.760</td>
<td>0.578</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>4.00</td>
<td>3.75</td>
<td>2.485</td>
<td>1.265</td>
<td>1.600</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>5.00</td>
<td>2.25</td>
<td>2.910</td>
<td>-0.660</td>
<td>0.436</td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>You may have noticed that we did not specify what is meant by “best-fitting line.” By far, the most commonly-used criterion for the best-fitting line is the line that minimizes the sum of the squared errors of prediction. That is the criterion that was used to find the line in <a href="#fig-splotexampledatadetail" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-splotexampledatadetail</span></a>. The last column in <a href="#tbl-exampledatatable" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-exampledatatable</span></a> shows the squared errors of prediction. The sum of the squared errors of prediction shown in <a href="#tbl-exampledatatable" class="quarto-xref">Table&nbsp;<span class="quarto-unresolved-ref">tbl-exampledatatable</span></a> is lower than it would be for any other regression line.</p>
<p>The formula for a regression line is</p>
<p><span class="math display">\[
Y' = bX + A
\]</span></p>
<p>where <span class="math inline">\(Y'\)</span> is the predicted score, <span class="math inline">\(b\)</span> is the slope of the line, and <span class="math inline">\(A\)</span> is the Y intercept. The equation for the line in <a href="#fig-splotexampledatadetail" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-splotexampledatadetail</span></a> is</p>
<p><span class="math display">\[
Y' = 0.425X + 0.785
\]</span></p>
<p>For <span class="math inline">\(X\)</span> = 1,</p>
<p><span class="math display">\[
Y' = (0.425)(1) + 0.785 = 1.21.
\]</span></p>
<p>For <span class="math inline">\(X\)</span> = 2,</p>
<p><span class="math display">\[
Y' = (0.425)(2) + 0.785 = 1.64.
\]</span></p>
<section id="a-real-example" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="a-real-example"><span class="header-section-number">3.4.1</span> A Real Example</h3>
<p>The case study “SAT and College GPA”<a href="#_ftn6">[6]</a> contains high school and university grades for 105 computer science majors at a local state school. We now consider how we could predict a student’s university GPA if we knew his or her high school GPA.</p>
<p><a href="#fig-unihighschoolgpa" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-unihighschoolgpa</span></a> shows a scatter plot of University GPA as a function of High School GPA. You can see from the figure that there is a strong positive relationship. The correlation is 0.78. The regression equation is</p>
<p><span class="math display">\[
\text{University GPA'} = (0.675)(High School GPA) + 1.097
\]</span></p>
<p>Therefore, a student with a high school GPA of 3 would be predicted to have a university GPA of</p>
<p><span class="math display">\[
\text{University GPA'} = (0.675)(3) + 1.097 = 3.12.
\]</span></p>
<div id="fig-unihighschoolgpa" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-unihighschoolgpa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Images/Ch3/unihighschoolgpa.jpg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-unihighschoolgpa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.12: University GPA as a function of High School GPA.
</figcaption>
</figure>
</div>
<hr>
<p><a href="#_ftnref1">[1]</a> This section is adapted from Rudy Guerra and David M. Lane. “Introduction to Bivariate Data.” <em>Online Statistics Education: A Multimedia Course of Study</em>. <a href="http://onlinestatbook.com/2/describing_bivariate_data/intro.html" class="uri">http://onlinestatbook.com/2/describing_bivariate_data/intro.html</a></p>
<p><a href="#_ftnref2">[2]</a> <a href="https://www.amstat.org/publications/jse/v3n1/datasets.dickey.html" class="uri">https://www.amstat.org/publications/jse/v3n1/datasets.dickey.html</a></p>
<p><a href="#_ftnref3">[3]</a> This section is adapted from David M. Lane. “Values of the Pearson Correlation.” <em>Online Statistics Education: A Multimedia Course of Study</em>. <a href="http://onlinestatbook.com/2/describing_bivariate_data/pearson.html" class="uri">http://onlinestatbook.com/2/describing_bivariate_data/pearson.html</a></p>
<p><a href="#_ftnref4">[4]</a> This section is adapted from David M. Lane. “Computing Pearson’s r.” <em>Online Statistics Education: A Multimedia Course of Study</em>. <a href="http://onlinestatbook.com/2/describing_bivariate_data/calculation.html" class="uri">http://onlinestatbook.com/2/describing_bivariate_data/calculation.html</a></p>
<p><a href="#_ftnref5">[5]</a> This section is adapted from David M. Lane. “Introduction to Linear Regression.” <em>Online Statistics Education: A Multimedia Course of Study</em>. <a href="http://onlinestatbook.com/2/regression/intro.html" class="uri">http://onlinestatbook.com/2/regression/intro.html</a></p>
<p><a href="#_ftnref6">[6]</a> <a href="http://onlinestatbook.com/2/case_studies/sat.html" class="uri">http://onlinestatbook.com/2/case_studies/sat.html</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Chapter2.html" class="pagination-link" aria-label="Statistics for Describing One Variable at a Time">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Statistics for Describing One Variable at a Time</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter4.html" class="pagination-link" aria-label="Estimation">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Estimation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>